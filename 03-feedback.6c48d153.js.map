{"mappings":"iiBAAA,IAgDQA,EACAC,EAjDRC,EAAAC,EAAA,SAGMC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,QAASF,SAASC,cAAc,oBAChCE,WAAYH,SAASC,cAAc,qBAKlBH,EAAdC,OAAOK,iBAAiB,UAS7B,SAAsBC,GACpBA,EAAMC,iBACN,IAAMZ,EAAoBa,aAAaC,QAAQ,uBACzCb,EAAqBc,KAAKC,MAAMhB,GAElCC,IACFgB,QAAQC,IAAI,YAAajB,GACzBY,aAAaM,WAAW,wBAE1BR,EAAMS,cAAcC,O,IAjBtBjB,EAAKC,OAAOK,iBAAiB,QAASY,EAAApB,GAAEqB,UAoBxC,SAAqBZ,GACLP,EAAKI,QAAQgB,MACXpB,EAAKK,WAAWe,MAGhCX,aAAaY,QACX,sBACAV,KAAKW,UAAU,CACbC,MAAOvB,EAAKI,QAAQgB,MACpBI,QAASxB,EAAKK,WAAWe,Q,GA7B+B,MAoCtDxB,EAAoBa,aAAaC,QAAQ,wBACzCb,EAAqBc,KAAKC,MAAMhB,MAEpCI,EAAKI,QAAQgB,MAAQvB,EAAmB0B,MACxCvB,EAAKK,WAAWe,MAAQvB,EAAmB2B,QAE3CX,QAAQC,IAAIjB,EAAmB0B,OAC/BV,QAAQC,IAAIjB,EAAmB2B,S","sources":["src/js/003-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\n//*1 Створюємо об\"єкт з посиланнями на DOM\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  emailEl: document.querySelector('[type = \"email\"]'),\n  textareaEl: document.querySelector('[name=\"message\"]'),\n};\n// console.log(refs.textareaEl);\n\n//* 2 Додаємо слухачі подій\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('input', _.throttle(onFormInput, 500));\n\n// //* 3 виводимо збережені і розпарсені дані зі сховища в окремі змінні\n// const savedDataFeedback = localStorage.getItem('feedback-form-state');\n// const parsedDataFeedback = JSON.parse(savedDataFeedback);\n// console.log(parsedDataFeedback);\n\n//* Оголошуємо callback функції\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const savedDataFeedback = localStorage.getItem('feedback-form-state');\n  const parsedDataFeedback = JSON.parse(savedDataFeedback);\n  // console.log(parsedDataFeedback);\n  if (parsedDataFeedback) {\n    console.log('Submit - ', parsedDataFeedback);\n    localStorage.removeItem('feedback-form-state');\n  }\n  event.currentTarget.reset();\n}\n\nfunction onFormInput(event) {\n  const email = refs.emailEl.value;\n  const message = refs.textareaEl.value;\n  // console.log('email - ', email);\n  // console.log('message - ', message);\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      email: refs.emailEl.value,\n      message: refs.textareaEl.value,\n    })\n  );\n}\n\nfillFields();\nfunction fillFields() {\n  const savedDataFeedback = localStorage.getItem('feedback-form-state');\n  const parsedDataFeedback = JSON.parse(savedDataFeedback);\n  if (parsedDataFeedback) {\n    refs.emailEl.value = parsedDataFeedback.email;\n    refs.textareaEl.value = parsedDataFeedback.message;\n\n    console.log(parsedDataFeedback.email);\n    console.log(parsedDataFeedback.message);\n  }\n}\n"],"names":["savedDataFeedback","parsedDataFeedback","$1WSnx","parcelRequire","$4d95ff881b189b8f$var$refs","formEl","document","querySelector","emailEl","textareaEl","addEventListener","event","preventDefault","localStorage","getItem","JSON","parse","console","log","removeItem","currentTarget","reset","$parcel$interopDefault","throttle","value","setItem","stringify","email","message"],"version":3,"file":"03-feedback.6c48d153.js.map"}